
struct StringBuilder;

# returning old is better, as the caller know whether it needs to be freed or not
pub fn ArrayList_set(ArrayList* self, int i, void el) {
    if i < 0 { panic(-i, "Index out of bounds\n", 20); }
    if i >= self.size() { panic(i, "Index out of bounds\n", 20); }
    self = self + 0x10; # todo: struct!
    void* arr = *self;
    arr = arr + i * 0x8;
    void old = *arr;
    *arr = el;
    return old;
}
